<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="CodeTweak Dashboard - Manage your custom website scripts easily"
    />
    <title>CodeTweak Dashboard</title>
    <link rel="stylesheet" href="styles/dashboard.css" />
    <script src="utils/theme.js" defer></script>
  </head>
  <body>
    <div class="container">
      <header>
        <div class="header-brand">
          <h1>CodeTweak</h1>
        </div>
        <div class="header-actions">
          <input
            type="file"
            id="importInput"
            accept=".json"
            style="display: none"
            aria-label="Import scripts file"
          />
          <button id="importBtn" class="secondary" title="Import scripts">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              aria-hidden="true"
            >
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="7 10 12 15 17 10" />
              <line x1="12" y1="15" x2="12" y2="3" />
            </svg>
            Import
          </button>
          <button
            id="createScriptBtn"
            class="primary"
            title="Create new script"
          >
            <svg
              class="icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              aria-hidden="true"
            >
              <line x1="12" y1="5" x2="12" y2="19" />
              <line x1="5" y1="12" x2="19" y2="12" />
            </svg>
            New Script
          </button>
        </div>
      </header>

      <nav aria-label="Main navigation">
        <div class="tabs" role="tablist">
          <button
            id="scripts-tab-btn"
            class="tab active"
            role="tab"
            aria-selected="true"
            aria-controls="scripts-tab"
            data-tab="scripts"
          >
            <svg
              class="icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              aria-hidden="true"
            >
              <path
                d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
              ></path>
              <polyline points="14 2 14 8 20 8"></polyline>
              <line x1="16" y1="13" x2="8" y2="13"></line>
              <line x1="16" y1="17" x2="8" y2="17"></line>
              <polyline points="10 9 9 9 8 9"></polyline>
            </svg>
            Scripts
          </button>
          <button
            id="settings-tab-btn"
            class="tab"
            role="tab"
            aria-selected="false"
            aria-controls="settings-tab"
            data-tab="settings"
          >
            <svg
              class="icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              aria-hidden="true"
            >
              <circle cx="12" cy="12" r="3"></circle>
              <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
              ></path>
            </svg>
            Settings
          </button>
          <button
            id="about-tab-btn"
            class="tab"
            role="tab"
            aria-selected="false"
            aria-controls="about-tab"
            data-tab="about"
          >
            <svg
              class="icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              aria-hidden="true"
            >
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            About
          </button>
        </div>
      </nav>

      <main>
        <section
          class="tab-content active"
          id="scripts-tab"
          role="tabpanel"
          aria-labelledby="scripts-tab-btn"
        >
          <div class="script-list">
            <div class="script-controls">
              <div class="search-box">
                <svg
                  class="icon"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  aria-hidden="true"
                >
                  <circle cx="11" cy="11" r="8"></circle>
                  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input
                  type="text"
                  id="scriptSearch"
                  placeholder="Search scripts..."
                  aria-label="Search scripts"
                />
              </div>
              <div class="filter-controls">
                <select id="websiteFilter" aria-label="Filter by website">
                  <option value="">All Websites</option>
                </select>
                <select id="statusFilter" aria-label="Filter by status">
                  <option value="">All Status</option>
                  <option value="enabled">Enabled</option>
                  <option value="disabled">Disabled</option>
                </select>
                <select id="runAtFilter" aria-label="Filter by run timing">
                  <option value="">All Timing</option>
                  <option value="document_start">Page Start</option>
                  <option value="document_end">DOM Ready</option>
                  <option value="document_idle">Page Load</option>
                  <option value="element_ready">Element Ready</option>
                </select>
              </div>
            </div>

            <div class="table-responsive">
              <table id="scriptsTable" aria-label="Your scripts">
                <thead>
                  <tr>
                    <th scope="col">Status</th>
                    <th scope="col">Name</th>
                    <th scope="col">Website Icons</th>
                    <th scope="col">Target URL</th>
                    <th scope="col">Run At</th>
                    <th scope="col">Version</th>
                    <th scope="col">Actions</th>
                  </tr>
                </thead>
                <tbody id="scriptsList">
                  <!-- Script rows will be populated dynamically -->
                </tbody>
              </table>
            </div>

            <div class="empty-state" id="emptyState" style="display: none">
              <svg
                class="icon-lg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                aria-hidden="true"
              >
                <path
                  d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                ></path>
                <path d="M14 2v6h6"></path>
                <path d="M12 18v-6"></path>
                <path d="M9 15h6"></path>
              </svg>
              <p>No scripts found. Create your first script to get started!</p>
              <button id="emptyStateCreateBtn" class="primary">
                Create New Script
              </button>
            </div>
          </div>
        </section>

        <section
          class="tab-content"
          id="settings-tab"
          role="tabpanel"
          aria-labelledby="settings-tab-btn"
        >
          <form id="settingsForm">
            <div class="settings-section">
              <h2>General Settings</h2>

              <div class="form-group">
                <label class="checkbox-label" for="darkModeToggle">
                  <button
                    id="darkModeToggle"
                    class="icon-button"
                    aria-label="Toggle dark mode"
                    title="Toggle dark mode"
                  >
                    <svg
                      class="icon-lg"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      aria-hidden="true"
                    >
                      <path
                        d="M21 12.79A9 9 0 1 1 11.21 3 A7 7 0 0 0 21 12.79z"
                      />
                    </svg>
                  </button>
                  Toggle dark mode
                </label>
                <p class="form-help">Switch between light and dark theme</p>
              </div>

              <div class="form-group">
                <label class="checkbox-label" for="enableAllScripts">
                  <input type="checkbox" id="enableAllScripts" checked />
                  Enable all scripts by default
                </label>
                <p class="form-help">
                  New scripts will be automatically enabled when created
                </p>
              </div>

              <div class="form-group">
                <label class="checkbox-label" for="showNotifications">
                  <input type="checkbox" id="showNotifications" checked />
                  Show notifications when scripts run
                </label>
                <p class="form-help">
                  Display a notification when a script executes on a page
                </p>
              </div>

              <div class="form-group">
                <label class="checkbox-label" for="debugMode">
                  <input type="checkbox" id="debugMode" />
                  Debug mode
                </label>
                <p class="form-help">
                  Show detailed console logs when scripts run
                </p>
              </div>
            </div>

            <div class="settings-section">
              <h2>Security</h2>

              <div class="form-group">
                <label class="checkbox-label" for="allowThirdPartyScripts">
                  <input type="checkbox" id="allowThirdPartyScripts" />
                  Allow scripts to load external resources
                </label>
                <p class="form-help">
                  Enable loading of third-party libraries and external scripts
                </p>
              </div>

              <div class="form-group">
                <label class="checkbox-label" for="confirmBeforeRunning">
                  <input type="checkbox" id="confirmBeforeRunning" />
                  Confirm before running scripts on new websites
                </label>
                <p class="form-help">
                  Ask for confirmation when a script runs on a website for the
                  first time
                </p>
              </div>
            </div>

            <div class="settings-actions">
              <button type="submit" id="saveSettingsBtn" class="primary">
                Save Settings
              </button>
              <button type="reset" id="resetSettingsBtn" class="secondary">
                Reset to Defaults
              </button>
            </div>
          </form>
        </section>

        <section
          class="tab-content"
          id="about-tab"
          role="tabpanel"
          aria-labelledby="about-tab-btn"
        >
          <div class="settings-section">
            <h2>About CodeTweak</h2>
            <p>
              CodeTweak is a powerful browser extension that allows you to inject
              custom JavaScript code into specific websites based on your
              preferences.
            </p>
            <div class="version-pill">Version 1.0.0</div>

            <h3>How to Use</h3>
            <ol>
              <li>Create a script by clicking the "New Script" button</li>
              <li>Specify the target website(s) where the script should run</li>
              <li>Write your JavaScript code in the editor</li>
              <li>
                Choose when the script should run (page start, DOM ready, page
                load, or when a specific element is loaded)
              </li>
              <li>
                Save your script and it will automatically run when you visit
                the specified websites
              </li>
            </ol>
          </div>

          <div class="settings-section">
            <h2>Features</h2>
            <div class="feature-list">
              <div class="feature-item">
                <div class="feature-item-icon">
                  <svg
                    class="icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    aria-hidden="true"
                  >
                    <path
                      d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"
                    ></path>
                    <line x1="16" y1="8" x2="2" y2="22"></line>
                    <line x1="17.5" y1="15" x2="9" y2="15"></line>
                  </svg>
                </div>
                <h3 class="feature-item-title">Custom Scripts</h3>
                <p>
                  Write and inject JavaScript into any website to enhance
                  functionality
                </p>
              </div>

              <div class="feature-item">
                <div class="feature-item-icon">
                  <svg
                    class="icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    aria-hidden="true"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                  </svg>
                </div>
                <h3 class="feature-item-title">Execution Control</h3>
                <p>
                  Choose exactly when your scripts run during the page loading
                  process
                </p>
              </div>

              <div class="feature-item">
                <div class="feature-item-icon">
                  <svg
                    class="icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    aria-hidden="true"
                  >
                    <rect
                      x="3"
                      y="3"
                      width="18"
                      height="18"
                      rx="2"
                      ry="2"
                    ></rect>
                    <line x1="9" y1="9" x2="15" y2="15"></line>
                    <line x1="15" y1="9" x2="9" y2="15"></line>
                  </svg>
                </div>
                <h3 class="feature-item-title">Enable/Disable</h3>
                <p>
                  Toggle scripts on and off with a single click without deleting
                  them
                </p>
              </div>

              <div class="feature-item">
                <div class="feature-item-icon">
                  <svg
                    class="icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    aria-hidden="true"
                  >
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                  </svg>
                </div>
                <h3 class="feature-item-title">Sharing</h3>
                <p>Export and import scripts to easily share with others</p>
              </div>
            </div>
          </div>

          <footer class="about-footer">
            <p>CodeTweak &copy; 2025 - All rights reserved.</p>
          </footer>
        </section>
      </main>
    </div>

    <script src="dashboard.js" defer></script>
    <script src="utils/favicon.js" defer></script>
  </body>
</html>
